<section class="page-section">
    <div class="container">
        <!-- Calculator Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Cuestionario</h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fa-solid fa-earth-americas"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Calculator Content-->
        <div class="row">
            <div class="col-lg-8 align-self-center">
                <div id="questionContainer" class="card mb-3">
                    <div class="card-body">
                        @if(currentQuestion) {
                            <h2>{{ currentQuestion.question }}</h2>

                            @for (answerq of currentQuestion.answers; track answerq; let i = $index) {
                                <div class="form-check">
                                    <input type="radio" [id]="'option' + i" [value]="answerq.answer" [(ngModel)]="selectedAnswer"
                                        name="answer">
                                    <label [for]="'option' + i">{{ answerq.answer }}</label>
                                </div>
                            }
                        }

                        @if(!selectedAnswer){
                        <p [ngClass]="errormessageclass">Por favor, seleccione una respuesta antes de continuar.</p>
                        }
                    </div>
                </div>
                <div class="d-flex justify-content-between mb-3 gradient-button">
                    <button class="btn btn-secondary" (click)="prevQuestion()"
                        [disabled]="currentQuestionIndex === 0">Anterior</button>
                    @if(showCalculateBotton){
                        <button class="btn btn-primary" (click)="calculate()">Calcular</button>
                    } @else {
                        <button class="btn btn-primary" (click)="nextQuestion()">Siguiente</button>
                    }
                </div>
            </div>

            <div class="col-lg-4">
                <div style="text-align: center;">
                    <svg #earthSVG xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        width="101px" height="248px" viewBox="0 0 101 248" version="1.1">
                        <g id="surface1">
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(88.627451%,88.627451%,88.627451%);fill-opacity:1;"
                                d="M 79.519531 233.171875 C 79.519531 231.769531 65.820312 230.632812 48.921875 230.632812 C 32.023438 230.632812 18.324219 231.769531 18.324219 233.171875 C 18.324219 234.578125 32.023438 235.714844 48.921875 235.714844 C 65.820312 235.714844 79.519531 234.578125 79.519531 233.171875 Z M 79.519531 233.171875 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(79.215686%,86.666667%,86.27451%);fill-opacity:1;"
                                d="M 86.804688 184.699219 C 86.804688 205.550781 69.84375 222.457031 48.921875 222.457031 C 28 222.457031 11.039062 205.550781 11.039062 184.699219 C 11.039062 169.867188 19.621094 157.03125 32.105469 150.855469 L 32.105469 29.046875 C 32.105469 19.789062 39.636719 12.285156 48.921875 12.285156 C 53.566406 12.285156 57.769531 14.160156 60.8125 17.195312 C 63.855469 20.226562 65.738281 24.417969 65.738281 29.046875 L 65.738281 150.855469 C 78.222656 157.03125 86.804688 169.867188 86.804688 184.699219 Z M 86.804688 184.699219 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(91.372549%,95.686275%,95.294118%);fill-opacity:1;"
                                d="M 79.519531 184.699219 C 79.519531 201.542969 65.820312 215.195312 48.921875 215.195312 C 32.023438 215.195312 18.324219 201.542969 18.324219 184.699219 C 18.324219 172.074219 26.019531 161.238281 36.996094 156.605469 L 36.996094 52.996094 L 60.847656 52.996094 L 60.847656 156.605469 C 71.820312 161.238281 79.519531 172.074219 79.519531 184.699219 Z M 79.519531 184.699219 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(91.372549%,95.686275%,95.294118%);fill-opacity:1;"
                                d="M 36.996094 52.996094 L 36.996094 29.398438 C 36.996094 22.832031 42.335938 17.511719 48.921875 17.511719 C 52.214844 17.511719 55.195312 18.839844 57.355469 20.992188 C 59.511719 23.140625 60.847656 26.113281 60.847656 29.398438 L 60.847656 52.996094 Z M 36.996094 52.996094 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(85.490196%,91.764706%,90.980392%);fill-opacity:1;"
                                d="M 60.847656 52.996094 L 60.847656 156.605469 C 59.148438 155.824219 53.617188 155.265625 53.617188 155.265625 L 53.617188 52.996094 Z M 60.847656 52.996094 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(85.490196%,91.764706%,90.980392%);fill-opacity:1;"
                                d="M 60.847656 29.398438 L 60.847656 52.996094 L 53.617188 52.996094 L 53.617188 28.839844 C 53.617188 24.882812 51.488281 18.667969 43.777344 18.667969 C 45.335938 17.925781 47.078125 17.511719 48.921875 17.511719 C 52.214844 17.511719 55.195312 18.839844 57.355469 20.992188 C 59.511719 23.144531 60.847656 26.113281 60.847656 29.398438 Z M 60.847656 29.398438 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 31.609375 L 58.421875 31.609375 L 58.421875 32.804688 L 52.199219 32.804688 Z M 52.199219 31.609375 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 42 L 58.421875 42 L 58.421875 43.195312 L 52.199219 43.195312 Z M 52.199219 42 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 34.164062 L 58.421875 34.164062 L 58.421875 34.765625 L 55.367188 34.765625 Z M 55.367188 34.164062 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 36.121094 L 58.421875 36.121094 L 58.421875 36.722656 L 55.367188 36.722656 Z M 55.367188 36.121094 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 38.082031 L 58.421875 38.082031 L 58.421875 38.679688 L 55.367188 38.679688 Z M 55.367188 38.082031 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 40.039062 L 58.421875 40.039062 L 58.421875 40.640625 L 55.367188 40.640625 Z M 55.367188 40.039062 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 52.390625 L 58.421875 52.390625 L 58.421875 53.585938 L 52.199219 53.585938 Z M 52.199219 52.390625 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 44.554688 L 58.421875 44.554688 L 58.421875 45.15625 L 55.367188 45.15625 Z M 55.367188 44.554688 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 46.511719 L 58.421875 46.511719 L 58.421875 47.113281 L 55.367188 47.113281 Z M 55.367188 46.511719 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 48.472656 L 58.421875 48.472656 L 58.421875 49.074219 L 55.367188 49.074219 Z M 55.367188 48.472656 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 50.433594 L 58.421875 50.433594 L 58.421875 51.03125 L 55.367188 51.03125 Z M 55.367188 50.433594 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 62.78125 L 58.421875 62.78125 L 58.421875 63.980469 L 52.199219 63.980469 Z M 52.199219 62.78125 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 54.945312 L 58.421875 54.945312 L 58.421875 55.546875 L 55.367188 55.546875 Z M 55.367188 54.945312 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 56.90625 L 58.421875 56.90625 L 58.421875 57.503906 L 55.367188 57.503906 Z M 55.367188 56.90625 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 58.863281 L 58.421875 58.863281 L 58.421875 59.464844 L 55.367188 59.464844 Z M 55.367188 58.863281 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 60.824219 L 58.421875 60.824219 L 58.421875 61.425781 L 55.367188 61.425781 Z M 55.367188 60.824219 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 73.171875 L 58.421875 73.171875 L 58.421875 74.371094 L 52.199219 74.371094 Z M 52.199219 73.171875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 65.335938 L 58.421875 65.335938 L 58.421875 65.9375 L 55.367188 65.9375 Z M 55.367188 65.335938 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 67.296875 L 58.421875 67.296875 L 58.421875 67.898438 L 55.367188 67.898438 Z M 55.367188 67.296875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 69.257812 L 58.421875 69.257812 L 58.421875 69.855469 L 55.367188 69.855469 Z M 55.367188 69.257812 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 71.214844 L 58.421875 71.214844 L 58.421875 71.816406 L 55.367188 71.816406 Z M 55.367188 71.214844 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 83.566406 L 58.421875 83.566406 L 58.421875 84.761719 L 52.199219 84.761719 Z M 52.199219 83.566406 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 75.730469 L 58.421875 75.730469 L 58.421875 76.328125 L 55.367188 76.328125 Z M 55.367188 75.730469 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 77.6875 L 58.421875 77.6875 L 58.421875 78.289062 L 55.367188 78.289062 Z M 55.367188 77.6875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 79.648438 L 58.421875 79.648438 L 58.421875 80.25 L 55.367188 80.25 Z M 55.367188 79.648438 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 81.605469 L 58.421875 81.605469 L 58.421875 82.207031 L 55.367188 82.207031 Z M 55.367188 81.605469 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 93.957031 L 58.421875 93.957031 L 58.421875 95.152344 L 52.199219 95.152344 Z M 52.199219 93.957031 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 86.121094 L 58.421875 86.121094 L 58.421875 86.722656 L 55.367188 86.722656 Z M 55.367188 86.121094 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 88.082031 L 58.421875 88.082031 L 58.421875 88.679688 L 55.367188 88.679688 Z M 55.367188 88.082031 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 90.039062 L 58.421875 90.039062 L 58.421875 90.640625 L 55.367188 90.640625 Z M 55.367188 90.039062 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 91.996094 L 58.421875 91.996094 L 58.421875 92.597656 L 55.367188 92.597656 Z M 55.367188 91.996094 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 104.347656 L 58.421875 104.347656 L 58.421875 105.546875 L 52.199219 105.546875 Z M 52.199219 104.347656 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 96.511719 L 58.421875 96.511719 L 58.421875 97.113281 L 55.367188 97.113281 Z M 55.367188 96.511719 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 98.472656 L 58.421875 98.472656 L 58.421875 99.074219 L 55.367188 99.074219 Z M 55.367188 98.472656 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 100.429688 L 58.421875 100.429688 L 58.421875 101.03125 L 55.367188 101.03125 Z M 55.367188 100.429688 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 102.390625 L 58.421875 102.390625 L 58.421875 102.992188 L 55.367188 102.992188 Z M 55.367188 102.390625 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 114.742188 L 58.421875 114.742188 L 58.421875 115.9375 L 52.199219 115.9375 Z M 52.199219 114.742188 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 106.90625 L 58.421875 106.90625 L 58.421875 107.503906 L 55.367188 107.503906 Z M 55.367188 106.90625 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 108.863281 L 58.421875 108.863281 L 58.421875 109.464844 L 55.367188 109.464844 Z M 55.367188 108.863281 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 110.820312 L 58.421875 110.820312 L 58.421875 111.421875 L 55.367188 111.421875 Z M 55.367188 110.820312 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 112.78125 L 58.421875 112.78125 L 58.421875 113.382812 L 55.367188 113.382812 Z M 55.367188 112.78125 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 125.132812 L 58.421875 125.132812 L 58.421875 126.328125 L 52.199219 126.328125 Z M 52.199219 125.132812 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 117.296875 L 58.421875 117.296875 L 58.421875 117.898438 L 55.367188 117.898438 Z M 55.367188 117.296875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 119.253906 L 58.421875 119.253906 L 58.421875 119.855469 L 55.367188 119.855469 Z M 55.367188 119.253906 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 121.214844 L 58.421875 121.214844 L 58.421875 121.816406 L 55.367188 121.816406 Z M 55.367188 121.214844 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 123.171875 L 58.421875 123.171875 L 58.421875 123.773438 L 55.367188 123.773438 Z M 55.367188 123.171875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 135.523438 L 58.421875 135.523438 L 58.421875 136.722656 L 52.199219 136.722656 Z M 52.199219 135.523438 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 127.6875 L 58.421875 127.6875 L 58.421875 128.289062 L 55.367188 128.289062 Z M 55.367188 127.6875 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 129.648438 L 58.421875 129.648438 L 58.421875 130.25 L 55.367188 130.25 Z M 55.367188 129.648438 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 131.605469 L 58.421875 131.605469 L 58.421875 132.207031 L 55.367188 132.207031 Z M 55.367188 131.605469 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 133.566406 L 58.421875 133.566406 L 58.421875 134.164062 L 55.367188 134.164062 Z M 55.367188 133.566406 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 52.199219 145.914062 L 58.421875 145.914062 L 58.421875 147.113281 L 52.199219 147.113281 Z M 52.199219 145.914062 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 138.078125 L 58.421875 138.078125 L 58.421875 138.679688 L 55.367188 138.679688 Z M 55.367188 138.078125 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 140.039062 L 58.421875 140.039062 L 58.421875 140.640625 L 55.367188 140.640625 Z M 55.367188 140.039062 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 141.996094 L 58.421875 141.996094 L 58.421875 142.597656 L 55.367188 142.597656 Z M 55.367188 141.996094 " />
                            <path [attr.fill]="fillColor" style=" stroke:none;fill-rule:nonzero;fill-opacity:1;"
                                d="M 55.367188 143.957031 L 58.421875 143.957031 L 58.421875 144.558594 L 55.367188 144.558594 Z M 55.367188 143.957031 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(85.490196%,91.764706%,90.980392%);fill-opacity:1;"
                                d="M 79.519531 184.699219 C 79.519531 201.542969 65.820312 215.195312 48.921875 215.195312 C 40.097656 215.195312 32.144531 211.472656 26.558594 205.515625 C 32.398438 208.214844 40.449219 209.375 51 205.324219 C 61.066406 201.457031 68.273438 190.789062 69.125 180.691406 C 69.890625 171.574219 67.484375 163.535156 62.550781 157.386719 C 72.609375 162.382812 79.519531 172.738281 79.519531 184.699219 Z M 79.519531 184.699219 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(97.254902%,100%,99.607843%);fill-opacity:1;"
                                d="M 36.703125 173.09375 C 32.144531 177.636719 30.210938 183.066406 27.714844 180.582031 C 25.222656 178.09375 26.890625 172.398438 31.449219 167.859375 C 36.003906 163.316406 41.71875 161.652344 44.210938 164.140625 C 46.707031 166.625 41.257812 168.554688 36.703125 173.09375 Z M 36.703125 173.09375 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(97.254902%,100%,99.607843%);fill-opacity:1;"
                                d="M 29.332031 188.582031 C 29.332031 190.261719 27.964844 191.621094 26.28125 191.621094 C 24.597656 191.621094 23.234375 190.261719 23.234375 188.582031 C 23.234375 186.90625 24.597656 185.546875 26.28125 185.546875 C 27.964844 185.546875 29.332031 186.90625 29.332031 188.582031 Z M 29.332031 188.582031 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(97.254902%,100%,99.607843%);fill-opacity:1;"
                                d="M 46.359375 33.371094 L 46.359375 52.996094 L 39.972656 52.996094 L 39.972656 33.371094 C 39.972656 31.613281 41.402344 30.1875 43.164062 30.1875 C 44.046875 30.1875 44.847656 30.542969 45.425781 31.121094 C 46 31.695312 46.359375 32.492188 46.359375 33.371094 Z M 46.359375 33.371094 " />
                            <path
                                style=" stroke:none;fill-rule:nonzero;fill:rgb(97.254902%,100%,99.607843%);fill-opacity:1;"
                                d="M 46.359375 52.996094 L 46.359375 135.128906 C 46.359375 136.886719 44.929688 138.3125 43.164062 138.3125 C 41.402344 138.3125 39.972656 136.886719 39.972656 135.128906 L 39.972656 52.996094 Z M 46.359375 52.996094 " />
                        </g>
                    </svg>
                </div>
                <div class="mb-3">
                    <span>Carbon Value: {{ carbonValue }}</span>
                </div>
            </div>

            <div class="col-lg-12">
                <div class="gradient-button">
                    <button id="resetBtn" class="btn btn-danger" (click)="resetQuiz()">Reiniciar Cuestionario</button>
                </div>
            </div>
        </div>
    </div>
</section>