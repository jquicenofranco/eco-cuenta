<section class="page-section">
    <div class="container">
        <!-- Calculator Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Calculadora</h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fa-solid fa-earth-americas"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Calculator Content-->
        <div class="row">
            <div class="col-lg-8 align-self-center">
                <div id="questionContainer" class="card mb-3">
                    <div class="card-body">
                        @if(currentQuestion) {
                            <h2>{{ currentQuestion.question }}</h2>

                            @for (answerq of currentQuestion.answers; track answerq; let i = $index) {
                                <div class="form-check radio-option">
                                    <input type="radio" [id]="'option' + i" [value]="answerq" [(ngModel)]="selectedAnswer"
                                        name="answer">
                                    <label [for]="'option' + i">{{ answerq.answer }}</label>
                                </div>
                            }
                        }

                        @if(!selectedAnswer){
                        <p [ngClass]="errormessageclass">Por favor, seleccione una respuesta antes de continuar.</p>
                        }
                    </div>
                </div>
                <div class="d-flex justify-content-between mb-3 gradient-button">
                    <button class="btn btn-secondary" (click)="prevQuestion()"
                        [disabled]="currentQuestionIndex === 0">Anterior</button>
                    @if(showCalculateBotton){
                        <button class="btn btn-primary" (click)="calculate()">Calcular</button>
                    } @else {
                        <button class="btn btn-primary" (click)="nextQuestion()">Siguiente</button>
                    }
                </div>
            </div>

            <div class="col-lg-4">
                <div style="text-align: center;">
                    <img [src]="imageSrc" class="responsive-image">
                </div>
                <div class="mb-3">
                    <span>{{ carbonValue }}</span>
                </div>
            </div>

            <div class="col-lg-12">
                <div class="gradient-button">
                    <button id="resetBtn" class="btn btn-danger" (click)="resetQuiz()">Reiniciar Cuestionario</button>
                </div>
            </div>
        </div>
    </div>
</section>